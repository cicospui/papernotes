# Dumbo-MVBA: Optimal Multi-Valued Validated Asynchronous Byzantine Agreement, Revisited

## 摘要

**多值可验证异步拜占庭协议**($\textcolor{red}{MVBA}$, multi-valued validated asynchronous Byzantine agreement)是容错的基础，用在异步网络中的原子广播中。而**O（ln^2^+λn^2^+n^3^）**的通信需要被降低。通过MVBA构建原子广播时输入长度l>λn，此时的通信由n^2^项主导。

本文填补空白并回答上述开放问题的剩余部分。特别是，我们提出了两个具有 O( ln + λn2) 通信位的 MVBA 协议，当 l≥ λn 时这是最佳的。我们还保持了其他优势，包括容忍最多 n/3 自适应拜占庭损坏的最佳弹性、最佳预期恒定运行时间和最佳 O(n2) 消息。

我们提出了异步可证明分散广播 (APDB)，其中每个输入都可以拆分并分散给每一方，然后以有效的方式恢复。利用 APDB 和异步二进制协议，我们设计了一个最优的 MVBA 协议 Dumbo-MVBA；我们还提出了一个通用的自引导框架 Dumbo-MVBA*，以减少任何现有 MVBA 协议的通信。

## INTRO

拜占庭协议（BA, Byzantine agreement）又Lamport提出，BA的原始范围允许输入是多值的，被熟知为MVBA，其囊括了二进制BA的情况（只允许输入是0/1）。

部署异步原子广播（ABC, asynchronous atomic broadcast）常通过顺序执行微调后的多值拜占庭协议MBA来实例化。后来又提出了多值验证异步BA，被用来构造简单的ABC，也被用作构建容错协议。MVBA中，每一方都将一个值作为输入，并决定输入的值之中的一个值作为输出，只要决定的输出满足外部有效性条件即可。

首个MVBA的构造有最大的拜占庭容忍n/3，O（1）的运行时间和O（n^2）条消息，但通信位（communicated bits）很大O( ln2 + λn2 + n3)

之后的研究去掉了n3项，条件是每个系统字可以封装一定数量的输入值和一些小尺寸的字符串，比如数字签名。当输入长度l较小（例如，与 λ 相当）时，他们的结果可以直接转化为位通信作为上述问题的部分答案。

而ABC 构造要求底层 MVBA 的输入长度l至少为 O(λn)，因为每个 MVBA 输入都是一组 (n-f) 数字签名的 ABC 输入。在这种情况下，ln2 项成为主导因素，O（n3）的数量级。故HBBFT等不再使用MVBA构造ABC。这个问题对任何需要大输入的MVBA都是个考验。

#### l  本文贡献

而本文则回答了大输入问题，并提出了第一个具有O（ln+λn2）通信位的MVBA协议。更细的说，满足以下：在l>O(λn)时的最优通信复杂度O（ln）、异步网络中的最佳拜占庭容忍(n-1)/3、压倒性的概率终止于恒定常数异步轮次、针对拜占庭环境的异步BA消息下限：最优的异步消息数O（n2）。

#### l  技术和挑战

在第一阶段，每一方使用广播协议将其输入值广播给所有其他方。一旦收到足够的值，每一方都会通知其他人它收到了哪些值，以形成一个 O(n2) 大小的“矩阵”。然后选出随机方 Pl，各方运行异步二进制协议 (ABA)，根据是否有足够多的方已经收到 vl 来投票决定是否输出 vl。重复 运行ABA直到返回 1。

最近的研究扩展了 ABA 的常规设计思想，直接按照以下方式构建 MVBA：首先，每一方执行多轮广播以形成提交证明。随机选出一方 Pl。如果任何一方已经收到 vl 的提交证明，它决定输出 vl ；和其他未决定的各方使用 vl 作为输入以输入整个过程的重复。我们可以看到 [2] 摆脱了 O(n3) 通信，因为每一方接收 O(n2) 大小矩阵的阶段被删除了。

实际上呢，每方都会给每方发送各自的输入，就已经产生了l*n2的通信了，而这并非必要的。由此设计的Dumbo-MVBA就优化了这个过程，每个人只分散到网络中编码片段。

效率的要求使得已有的AVID协议不适用，便出于效率目的提出了异步可证明分散广播（APDB），在发送方被破坏时削弱了AVID协议，实现了只有O（n）消息的有意义的分散协议。在APDB的分散过程中，产生两个证明lock和done：（1）当诚实方交付一个lock证明时，代表已有足够的对等方交付了分散值的编码片，该值就可以被所有诚实节点收集起来恢复。（2）done证明代表已有足够的对等方提交了lock证明，因此所有诚实节点就可以激活ABA并提供输入1，之后决定1共同恢复分散值。









## ADD

共识的通用定义需要一致性和活性：consistency&liveness

### MVBA

将异步网络共识的安全性已经很强了，但是效率仍然是一个难以解决的问题。

MVBA的复杂度逐渐被降低。

每个节点发送信息到每个节点就会产生ln2的复杂度，但这个过程可能并不需要。













